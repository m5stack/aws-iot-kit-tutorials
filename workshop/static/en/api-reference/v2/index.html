<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Core2 for AWS IoT EduKit BSP: Overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="AWS_logo_RGB.png"/></td>
  <td id="projectalign">
   <div id="projectname">Core2 for AWS IoT EduKit BSP<span id="projectnumber">&#160;2.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Overview </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p >Core2 for AWS IoT EduKit API Reference<a class="anchor" id="overview"></a></p>
<p >This Core2 for AWS IoT EduKit API Reference provides a set of definitions for the various drivers that are included as part of the M5Stack Core2 for AWS IoT EduKit board support package (BSP). A board support package is the software layer that contains hardware drivers and other routines you can use when writing your applications to access the on-board hardware features. The BSP relies on and sits on top of Espressif's IoT Developer Framework (ESP-IDF) version 4.3, which is based on a modified version of FreeRTOS and executes from the ESP32-D0WD micro-controller unit (MCU) to all attached peripherals. It provides a layer of abstraction from the ESP-IDF and all other drivers that are used in the BSP. The usage of the BSP requires knowledge of C programming and real-time operating systems.</p>
<p >The BSP should be placed in the project's <b>/components</b> folder (e.g. MyProjectFolder/components/Core2-for-AWS-IoT-EduKit) . You can find the preferred location in the available projects in the <a href="https://github.com/aws-iot-edukit">AWS IoT EduKit</a> GitHub account. To create your own empty project do the following:</p><ol type="1">
<li>Generate a new repository from the <a href="https://github.com/aws-iot-edukit/Project_Template-Core2_for_AWS">Project Template repo</a> by clicking the <b>Use this template</b> button and following the <a href="https://docs.github.com/en/repositories/creating-and-managing-repositories/creating-a-repository-from-a-template">GitHub instructions</a>.</li>
<li>Using Visual Studio Code and the PlatformIO terminal window, clone your new repository and recursively clone the git submodules to where you'll be doing the development (e.g. local machine) using the command below and replacing the <b>YOUR_REPOSITORY_URL</b> and brackets with the git URL <a href="https://docs.github.com/en/repositories/creating-and-managing-repositories/cloning-a-repository">copied from GitHub</a>: <div class="fragment"><div class="line">git clone &lt;&lt;YOUR REPOSITORY URL&gt;&gt; --recurse-submodules</div>
</div><!-- fragment --></li>
<li>Open the <b>main/main.c</b> file and start writing your application.</li>
</ol>
<p >For more information on setting up your PlatformIO configuration file and additonal configuration options, view their <a href="https://docs.platformio.org/en/latest/projectconf/index.html">official docs</a>. For information on the ESP-IDF v4.3 and APIs available, see Espressif's <a href="https://docs.espressif.com/projects/esp-idf/en/release-v4.3/esp32/index.html">official documentation</a>.</p>
<h1><a class="anchor" id="driver_apis"></a>
Driver APIs</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Library   </th><th class="markdownTableHeadNone">Feature   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="core2foraws.html">core2foraws</a>   </td><td class="markdownTableBodyNone">Wrapper   </td><td class="markdownTableBodyNone">A helper library that wraps other library functions.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="audio.html">audio</a>   </td><td class="markdownTableBodyNone">Mic &amp; Speaker   </td><td class="markdownTableBodyNone">Audio driver for on-board microphone and speaker.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="button.html">button</a>   </td><td class="markdownTableBodyNone">Virtual Buttons   </td><td class="markdownTableBodyNone">Virtual touch buttons. Uses the FT6336U with mapped coordinates for button presses/holds/releases.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="common.html">common</a>   </td><td class="markdownTableBodyNone">Common   </td><td class="markdownTableBodyNone">Definitions and declarations shared among drivers.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="crypto.html">crypto</a>   </td><td class="markdownTableBodyNone">Cryptography   </td><td class="markdownTableBodyNone">ATECC608 secure element helper.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="display.html">display</a>   </td><td class="markdownTableBodyNone">Display   </td><td class="markdownTableBodyNone">Display driver helpers. To draw on the display, use the <a href="https://docs.lvgl.io/7.11/index.html">LVGL library</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="expports.html">expports</a>   </td><td class="markdownTableBodyNone">Expansion Ports A,B, C   </td><td class="markdownTableBodyNone">The peripheral (DAC, ADC, UART, and GPIO) helper library for expansion ports A, B, C.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="motion.html">motion</a>   </td><td class="markdownTableBodyNone">Motion   </td><td class="markdownTableBodyNone">Inertial Measurement Unit (IMU) helper for 6-axis measurement with built-in temperature sensor.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="power.html">power</a>   </td><td class="markdownTableBodyNone">Power Management   </td><td class="markdownTableBodyNone">Input power, peripheral power, and battery charging circuit controls.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="rgb_led.html">rgb led</a>   </td><td class="markdownTableBodyNone">Side RGB LEDs   </td><td class="markdownTableBodyNone">10 individually addressable RGB LEDs on the sides of the Core2 for AWS.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="rtc.html">rtc</a>   </td><td class="markdownTableBodyNone">Real-Time Clock (RTC)   </td><td class="markdownTableBodyNone">Date time RTC with alarm and timer.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="sdcard.html">sd</a>   </td><td class="markdownTableBodyNone">SD Card   </td><td class="markdownTableBodyNone">SD Card helper library.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="wifi.html">wifi</a>   </td><td class="markdownTableBodyNone">Wi-Fi   </td><td class="markdownTableBodyNone">Wi-Fi helper library.   </td></tr>
</table>
<h1><a class="anchor" id="third_party_libraries_used"></a>
3rd Party Libraries Used</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Library   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://docs.lvgl.io/7.11/index.html">Light and Versitile Graphics Library (LVGL)</a>   </td><td class="markdownTableBodyNone">Graphics library that has been ported for the Core2 for AWS.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://github.com/espressif/esp-aws-iot">ESP-AWS-IoT</a>   </td><td class="markdownTableBodyNone">AWS IoT Device SDK for Embedded C ported for ESP32. Provides client connectivity and AWS IoT Device Shadow service capability.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://github.com/espressif/esp-cryptoauthlib">ESP-CRYPTOAUTHLIB</a>   </td><td class="markdownTableBodyNone">ATECC608 HAL ported for ESP32. Provides libraries to interface with the secure element. Depends on <a href="https://github.com/MicrochipTech/cryptoauthlib">CryptoAuthLib</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://github.com/MicrochipTech/cryptoauthlib">CryptoAuthLib</a>   </td><td class="markdownTableBodyNone">Microchip CryptoAuthentication Library. Provides libraries to interface with the secure element.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://github.com/ropg/i2c_manager">I2C Manager</a>   </td><td class="markdownTableBodyNone">A thread-safe I2C bus library for ESP32's.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://github.com/UncleRus/esp-idf-lib">ESP-IDF Components library</a>   </td><td class="markdownTableBodyNone">Libraries for a number of peripherals. The BSP uses it for the Side RGB LEDs.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://github.com/tuupola/axp192">AXP192</a>   </td><td class="markdownTableBodyNone">Driver for the AXP192 Power Management Unit (PMU).    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://github.com/tuupola/bm8563">BM8563</a>   </td><td class="markdownTableBodyNone">Driver for the BM8563 real-time clock.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://github.com/m5stack/mpu6886">MPU6886</a>   </td><td class="markdownTableBodyNone">Driver for the MPU6886 6-axis inertial measurement unit (IMU).    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://github.com/espressif/esp-rainmaker/">ESP RainMaker</a>   </td><td class="markdownTableBodyNone">An end-to-end connected home solution by Espressif to enable remote control and monitoring without any configuration required.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://github.com/espressif/esp-va-sdk/">ESP-VA-SDK</a>   </td><td class="markdownTableBodyNone">ESP-Voice-Assistance SDK for Alexa Voice Service capabilities on the ESP32.   </td></tr>
</table>
<h1><a class="anchor" id="hardware_schematics"></a>
Hardware Schematics</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Hardware Section   </th><th class="markdownTableHeadNone">Parts Contained    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="./CORE2_V1.0_SCH.pdf">Top (Amazon Orange)</a>   </td><td class="markdownTableBodyNone">ESP32-D0WD (MCU), AXP192 (PMU), BM8563 (RTC), ILI9342C (Display), FT6336U (Touch), NS4168 (Speaker amplifier)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="./m5go_bottom2_aws_sch.webp">Bottom (Squid Ink grey)</a>   </td><td class="markdownTableBodyNone">10x SK6812 (RGB LEDs), SPM1423 (Mic), ATECC608 (Secure Element)   </td></tr>
</table>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
