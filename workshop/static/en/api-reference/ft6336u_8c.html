<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.3"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Core2 for AWS IoT EduKit BSP: ft6336u.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="custom.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="AWS_logo_RGB.png"/></td>
  <td id="projectalign">
   <div id="projectname">Core2 for AWS IoT EduKit BSP<span id="projectnumber">&#160;1.5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_bf5ccd9971c0343ad1d8c4d8c914de23.html">core2forAWS</a></li><li class="navelem"><a class="el" href="dir_d6ff90ad0989d02f00c2ece18d117d4d.html">ft6336u</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ft6336u.c File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;stdio.h&quot;</code><br />
<code>#include &quot;stdbool.h&quot;</code><br />
<code>#include &quot;driver/gpio.h&quot;</code><br />
<code>#include &quot;freertos/FreeRTOS.h&quot;</code><br />
<code>#include &quot;freertos/semphr.h&quot;</code><br />
<code>#include &quot;<a class="el" href="ft6336u_8h_source.html">ft6336u.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="i2c__device_8h_source.html">i2c_device.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad09f8b65b8abcad4a84b127492fcc69f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ft6336u_8c.html#ad09f8b65b8abcad4a84b127492fcc69f">FT6336U_I2C_ADDR</a>&#160;&#160;&#160;0x38</td></tr>
<tr class="separator:ad09f8b65b8abcad4a84b127492fcc69f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa28f480824656af03504e04431dd40fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ft6336u_8c.html#aa28f480824656af03504e04431dd40fe">FT6336U_INTR_PIN</a>&#160;&#160;&#160;39</td></tr>
<tr class="separator:aa28f480824656af03504e04431dd40fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a3b3df9f6043c40e3245f40e6f54c1a50"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ft6336u_8c.html#a3b3df9f6043c40e3245f40e6f54c1a50">FT6336U_Init</a> ()</td></tr>
<tr class="memdesc:a3b3df9f6043c40e3245f40e6f54c1a50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the FT6336U over I2C.  <a href="ft6336u_8c.html#a3b3df9f6043c40e3245f40e6f54c1a50">More...</a><br /></td></tr>
<tr class="separator:a3b3df9f6043c40e3245f40e6f54c1a50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab75016437f925172c662fdd3b1da7784"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ft6336u_8c.html#ab75016437f925172c662fdd3b1da7784">FT6336U_GetTouch</a> (uint16_t *x, uint16_t *y, bool *press_down)</td></tr>
<tr class="memdesc:ab75016437f925172c662fdd3b1da7784"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the most recent touch data from the FT6336U.  <a href="ft6336u_8c.html#ab75016437f925172c662fdd3b1da7784">More...</a><br /></td></tr>
<tr class="separator:ab75016437f925172c662fdd3b1da7784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35a78ae3c2b1e6a1997d98d685612472"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ft6336u_8c.html#a35a78ae3c2b1e6a1997d98d685612472">FT6336U_WasPressed</a> ()</td></tr>
<tr class="memdesc:a35a78ae3c2b1e6a1997d98d685612472"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the pressed state of the touch screen.  <a href="ft6336u_8c.html#a35a78ae3c2b1e6a1997d98d685612472">More...</a><br /></td></tr>
<tr class="separator:a35a78ae3c2b1e6a1997d98d685612472"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a925d1ce958c33383716ba95a182c2ad0"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ft6336u_8c.html#a925d1ce958c33383716ba95a182c2ad0">FT6336U_GetPressPosX</a> ()</td></tr>
<tr class="memdesc:a925d1ce958c33383716ba95a182c2ad0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the X-coordinate of the screen press.  <a href="ft6336u_8c.html#a925d1ce958c33383716ba95a182c2ad0">More...</a><br /></td></tr>
<tr class="separator:a925d1ce958c33383716ba95a182c2ad0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a318069a067a76147780bcede98b761a6"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ft6336u_8c.html#a318069a067a76147780bcede98b761a6">FT6336U_GetPressPosY</a> ()</td></tr>
<tr class="memdesc:a318069a067a76147780bcede98b761a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves the Y-coordinate of the screen press.  <a href="ft6336u_8c.html#a318069a067a76147780bcede98b761a6">More...</a><br /></td></tr>
<tr class="separator:a318069a067a76147780bcede98b761a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ad09f8b65b8abcad4a84b127492fcc69f" name="ad09f8b65b8abcad4a84b127492fcc69f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad09f8b65b8abcad4a84b127492fcc69f">&#9670;&nbsp;</a></span>FT6336U_I2C_ADDR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FT6336U_I2C_ADDR&#160;&#160;&#160;0x38</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa28f480824656af03504e04431dd40fe" name="aa28f480824656af03504e04431dd40fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa28f480824656af03504e04431dd40fe">&#9670;&nbsp;</a></span>FT6336U_INTR_PIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FT6336U_INTR_PIN&#160;&#160;&#160;39</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a3b3df9f6043c40e3245f40e6f54c1a50" name="a3b3df9f6043c40e3245f40e6f54c1a50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3b3df9f6043c40e3245f40e6f54c1a50">&#9670;&nbsp;</a></span>FT6336U_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FT6336U_Init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the FT6336U over I2C. </p>
<dl class="section note"><dt>Note</dt><dd>The <a class="el" href="core2for_a_w_s_8c.html#a3d850a3f56bbe0685b60726d8b53bece" title="Initializes the power chip with default values, enables battery charging, and initializes all enabled...">Core2ForAWS_Init()</a> calls this function when the hardware feature is enabled. </dd>
<dd>
It creates a FreeRTOS task with the task name <code>FT6336Task</code> and installs an ISR on the interrupt pin FT6336U_INTR_PIN.</dd></dl>
<p>The most recent button press state is stored within the library and can be queried using the functions provided by this library.</p>
<p >The FreeRTOS task remains suspended and only resumes when the screen is pressed (which is informed by the FT6336U using the interrupt on the FT6336U_INTR_PIN). If multiple press events are stashed by the hardware, the FreeRTOS task keeps retrieving them one by one at an interval of 20 ticks. Once all the events are retrieved, the task suspends itself. </p>

</div>
</div>
<a id="ab75016437f925172c662fdd3b1da7784" name="ab75016437f925172c662fdd3b1da7784"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab75016437f925172c662fdd3b1da7784">&#9670;&nbsp;</a></span>FT6336U_GetTouch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FT6336U_GetTouch </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool *&#160;</td>
          <td class="paramname"><em>press_down</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the most recent touch data from the FT6336U. </p>
<p ><b>Example:</b></p>
<p >Print the touch coordinates and if the screen is currently being pressed. </p><div class="fragment"><div class="line">uint16_t x, y;</div>
<div class="line"><span class="keywordtype">bool</span> press;</div>
<div class="line"> </div>
<div class="line"><a class="code hl_function" href="ft6336u_8c.html#ab75016437f925172c662fdd3b1da7784">FT6336U_GetTouch</a>(&amp;x, &amp;y, &amp;press);</div>
<div class="line"> </div>
<div class="line">printf( <span class="stringliteral">&quot;X: %d, Y: %d, Pressed: %d&quot;</span>, x, y, press);</div>
<div class="ttc" id="aft6336u_8c_html_ab75016437f925172c662fdd3b1da7784"><div class="ttname"><a href="ft6336u_8c.html#ab75016437f925172c662fdd3b1da7784">FT6336U_GetTouch</a></div><div class="ttdeci">void FT6336U_GetTouch(uint16_t *x, uint16_t *y, bool *press_down)</div><div class="ttdoc">Retrieves the most recent touch data from the FT6336U.</div><div class="ttdef"><b>Definition:</b> ft6336u.c:66</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">x</td><td>The X-coordinate of the touch input. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">y</td><td>The Y-coordinate of the touch input. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">press_down</td><td>The pressed state of the touch screen. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a35a78ae3c2b1e6a1997d98d685612472" name="a35a78ae3c2b1e6a1997d98d685612472"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35a78ae3c2b1e6a1997d98d685612472">&#9670;&nbsp;</a></span>FT6336U_WasPressed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool FT6336U_WasPressed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the pressed state of the touch screen. </p>
<dl class="section return"><dt>Returns</dt><dd>The screen pressed state. </dd></dl>

</div>
</div>
<a id="a925d1ce958c33383716ba95a182c2ad0" name="a925d1ce958c33383716ba95a182c2ad0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a925d1ce958c33383716ba95a182c2ad0">&#9670;&nbsp;</a></span>FT6336U_GetPressPosX()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t FT6336U_GetPressPosX </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the X-coordinate of the screen press. </p>
<dl class="section return"><dt>Returns</dt><dd>The X-coordinate of the screen press. </dd></dl>

</div>
</div>
<a id="a318069a067a76147780bcede98b761a6" name="a318069a067a76147780bcede98b761a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a318069a067a76147780bcede98b761a6">&#9670;&nbsp;</a></span>FT6336U_GetPressPosY()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t FT6336U_GetPressPosY </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieves the Y-coordinate of the screen press. </p>
<dl class="section return"><dt>Returns</dt><dd>The Y-coordinate of the screen press. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3
</small></address>
</body>
</html>
